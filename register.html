<!DOCTYPE html> <html lang="es"> <head> <meta charset="UTF-8" /> <title>Registro</title> <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <link rel="stylesheet" href="assets/css/styles.css" /> </head> <body> <div class="container"> <form id="registerForm" method="post" action="register_process.php" autocomplete="on"> <h2>Registro</h2> <label>Usuario <input type="text" name="username" required /> </label> <label>Email <input type="email" name="email" required /> </label> <label>Contraseña <input type="password" name="password" required minlength="8" /> </label> <label>Confirmar contraseña <input type="password" name="confirm" required minlength="8" /> </label> <button type="submit">Registrarse</button> </form> </div> <script> document.getElementById('registerForm').addEventListener('submit', async function(e){ e.preventDefault(); const form = new FormData(this); const data = Object.fromEntries(form.entries()); const r = await fetch('register_process.php', { method: 'POST', headers: {'Accept':'application/json'}, body: new URLSearchParams(data) }); const res = await r.json().catch(()=>({ errors: ['Respuesta no válida'] })); if (r.ok && res.success) { Swal.fire('Registrado', 'Usuario registrado correctamente', 'success').then(()=>{ window.location = 'index.html'; }); } else { Swal.fire('Error', (res.errors?.join('<br>') || 'Error'), 'error'); } }); </script> </body> </html>
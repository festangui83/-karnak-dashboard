<!DOCTYPE html> <html lang="es"> <head> <meta charset="UTF-8" /> <title>Login</title> <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <link rel="stylesheet" href="assets/css/styles.css" /> </head> <body> <div class="container"> <form id="loginForm" method="post" action="login.php" autocomplete="on"> <h2>Iniciar sesión</h2> <label>Usuario o Email <input type="text" name="username" required /> </label> <label>Contraseña <input type="password" name="password" required minlength="8" /> </label> <button type="submit">Entrar</button> </form> </div> <script> document.getElementById('loginForm').addEventListener('submit', async function(e){ e.preventDefault(); const form = new FormData(this); const data = Object.fromEntries(form.entries()); const r = await fetch('login.php', { method: 'POST', headers: {'Accept':'application/json'}, body: new URLSearchParams(data) }); const res = await r.json().catch(()=>({ errors: ['Respuesta no válida'] })); if (r.ok && res.success) { Swal.fire('Éxito', 'Inicio de sesión correcto', 'success').then(()=>{ window.location = 'dashboard.php'; }); } else { Swal.fire('Error', (res.errors?.join('<br>') || 'Error'), 'error'); } }); </script> </body> </html>